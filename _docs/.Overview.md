---
title: 프로젝트 개요
---

## 구성

- Bun
- ~~Appwrite~~
- Trailbase (Appwrite 대체)
- Better Auth
- Cloudflare Pages
- Sveltekit
- Hono
- Postgres
- Cloudflare Zero Trust
- Cloudflare Tunnel (cloudflared)
- Cloudflare Access (cloudflared)

How to access internal postgres DB(on coolify)

- CF Access Authentication Login method 추가 (Zero trust > Settings)
  - One time PIN 외 다수 OAuth OIDC
  -
- coolify에서 디비 추가
  - Enable SSL, required로 설정
    - 다른 CA 인증 등 클플 인증서 필요한 경우는 잘 모르겠음.
- coolify에서 Cloudflared tunnel 인스턴스 추가
  - CF Tunnel에서 토큰 반영, *Optional, hyperdrive 연결을 위해 도메인 추가?
- CF WARP 실행
  - cloudflared access login URL 과정 필요한지 모르겠네
- CF Access policy

```shell
cloudflared access tcp --hostname new-test.1990.to --url tcp://localhost:5432
```

- CF hyperdrive에서 tunnel로 연결된 DB 추가

최종적으로 3종 개발환경

- local
  - DB_URL=localhost:5432
- preview
  - DB_URL=localhost:5432 (depends on `cloudflare access tcp`)
- production
  - Cloudflare hyperdrive (CF runtime binding)
